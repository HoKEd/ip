package cinnamontest.stepdefs;

import com.google.inject.Inject;
import com.nttdata.cinnamon.driver.Driver;
import cinnamontest.pages.ClientDetailPage;
import cinnamontest.pages.SendContactMessagePage;
import io.cucumber.java.en.When;
import io.cucumber.java.en.And;
import static org.assertj.core.api.Assertions.assertThat;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.openqa.selenium.TimeoutException;


public class stepDefsWhen extends BaseStep{ 
	private final Driver driver;

	private final ClientDetailPage clientdetailpage;

	private final SendContactMessagePage sendcontactmessagepage;


	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.7464512471655329
	 */
	@When("^I navigate to \"([^\"]*)\"$")
	public void iNavigateTo(String url) {
		this.driver.goTo(url);
		assertThat(this.sendcontactmessagepage.isPageDisplayed())
			.withFailMessage("Page was not loaded!")
			.isTrue();
	}

	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.7217425955930732
	 */
	@And("^I write \"([^\"]*)\" in Your message field$")
	public void iWriteHelloWorldInYourMessageField(String Yourmessagefield) {
		this.sendcontactmessagepage.Yourmessagefield.setValue(Yourmessagefield);
	}

	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.6406539164562532
	 */
	@And("^write the Job title with \"([^\"]*)\"$")
	public void writeJobTitleWith(String aValue) {
		WebDriverWait wait = new WebDriverWait(driver, 10);
		try {
			WebElement obj = wait.until(ExpectedConditions.visibilityOfElementLocated(SendContactMessagePage.%LOCATOR$));
		}catch(TimeoutException e) {
			e.printStackTrace();
		}
	}

	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.718760948571998
	 */
	@And("^I complete the Company with \"([^\"]*)\"$")
	public void iCompleteCompanyWith(String Company) {
		this.sendcontactmessagepage.Company.setValue(Company);
	}

	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.6427241700550919
	 */
	@And("^I write \"([^\"]*)\" in the Email address$")
	public void iWriteInEmailAddress(String value) {
		String txtPage = this.samplePage.formTitle.getText(); //formTitle contains the body text
		assertThat(txtPage.contains(value));
	}

	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.7845602918586789
	 */
	@And("^I click the Send Message button$")
	public void iClickSendMessageButton() {
		this.sendcontactmessagepage.SendMessage.click();
	}

	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.7292088892914863
	 */
	@And("^I choose \"([^\"]*)\" option in the Select field Label combo$")
	public void iChooseOptionInSelectFieldLabelCombo(String SelectfieldLabel) {
		this.sendcontactmessagepage.SelectfieldLabel.selectByText(SelectfieldLabel);
	}

	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.6816584466722307
	 */
	@And("^I write the field First Name with the value \"([^\"]*)\"$")
	public void iWriteFieldFirstNameWithValue(String FirstName) {
		this.sendcontactmessagepage.FirstName.setValue(FirstName);
	}

	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.7236170884447262
	 */
	@And("^I write the value \"([^\"]*)\" in Last Name$")
	public void iWriteValueInLastName(String LastName) {
		this.sendcontactmessagepage.LastName.setValue(LastName);
	}

	/** Method autogenerated by iBDD tool
	 *	 Code implemented with a probability of: 0.7902136723716537
	 */
	@And("^I write the value \"([^\"]*)\" on the Phone field$")
	public void iWriteValuePhoneField(String Phone) {
		this.sendcontactmessagepage.Phone.setValue(Phone);
	}

	/** null
	 */
	@Inject
	public stepDefsWhen(final Driver driver, final ClientDetailPage clientdetailpage) {
		this.driver = driver;
		this.driver.init();
		this.clientdetailpage = clientdetailpage;
	}

}